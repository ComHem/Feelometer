webpackJsonp([1],{FFBw:function(e,t){},GYIe:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),a=o("yxUK"),r={data:function(){return{loggedIn:a.a.loggedIn()}},created:function(){var e=this;a.a.onChange=function(t){e.loggedIn=t}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("h1",[e._v("Auth Flow")]),e._v(" "),o("ul",[o("li",[e.loggedIn?o("router-link",{attrs:{to:"/logout"}},[e._v("Log out")]):e._e(),e._v(" "),e.loggedIn?e._e():o("router-link",{attrs:{to:"/login"}},[e._v("Log in")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/register"}},[e._v("Sign up")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/feelometer"}},[e._v("Feelometer")]),e._v("\n      (authenticated)\n    ")],1)]),e._v(" "),e.$route.matched.length?[o("router-view")]:[o("p",[e._v("You are logged "+e._s(e.loggedIn?"in":"out"))])]],2)},staticRenderFns:[]},c=o("VU/8")(r,s,!1,function(e){o("FFBw")},null,null).exports,i=o("YaEn");n.a.config.productionTip=!1,new n.a({el:"#app",router:i.a,template:"<App/>",components:{App:c}})},PtjJ:function(e,t){},SpGz:function(e,t,o){"use strict";var n=o("mtWM"),a=o.n(n),r={name:"Feelometer",data:function(){return{message:"Hur k√§nner du dig idag?",scores:[-2,1,0,1,2,3,4,5],chosenScore:""}},methods:{saveScore:function(){console.log(this.chosenScore),a.a.get("http://localhost:8080/user/"+this.getCookie("userId")+"/score?score="+this.chosenScore).then(function(e){console.log(e)})},getCookie:function(e){var t=new RegExp("(?:^"+e+"|;s"+e+")=(.?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"feelometer"},[o("h1",[e._v(e._s(e.message))]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"-2",value:"-2"},domProps:{checked:e._q(e.chosenScore,"-2")},on:{change:[function(t){e.chosenScore="-2"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"-2"}},[e._v("-2")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"-1",value:"-1"},domProps:{checked:e._q(e.chosenScore,"-1")},on:{change:[function(t){e.chosenScore="-1"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"-1"}},[e._v("-1")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"0",value:"0"},domProps:{checked:e._q(e.chosenScore,"0")},on:{change:[function(t){e.chosenScore="0"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"0"}},[e._v("0")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"1",value:"1"},domProps:{checked:e._q(e.chosenScore,"1")},on:{change:[function(t){e.chosenScore="1"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"1"}},[e._v("1")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"2",value:"2"},domProps:{checked:e._q(e.chosenScore,"2")},on:{change:[function(t){e.chosenScore="2"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"2"}},[e._v("2")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"3",value:"3"},domProps:{checked:e._q(e.chosenScore,"3")},on:{change:[function(t){e.chosenScore="3"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"3"}},[e._v("3")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"4",value:"4"},domProps:{checked:e._q(e.chosenScore,"4")},on:{change:[function(t){e.chosenScore="4"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"4"}},[e._v("4")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenScore,expression:"chosenScore"}],staticClass:"scoreRadioButton",attrs:{type:"radio",id:"5",value:"5"},domProps:{checked:e._q(e.chosenScore,"5")},on:{change:[function(t){e.chosenScore="5"},e.saveScore]}}),e._v(" "),o("label",{attrs:{for:"5"}},[e._v("5")])]),e._v(" "),o("div",[o("h2",[e._v("Du har valt: "+e._s(e.chosenScore))])])])},staticRenderFns:[]},c=o("VU/8")(r,s,!1,function(e){o("GYIe")},"data-v-0a8e6d76",null);t.a=c.exports},YaEn:function(e,t,o){"use strict";(function(e){var n=o("7+uW"),a=o("/ocq"),r=o("yxUK"),s=o("cY3b"),c=o("SpGz"),i=o("xJsL");n.a.use(a.a),t.a=new a.a({mode:"history",base:e,routes:[{path:"/register",component:s.a},{path:"/feelometer",component:c.a,beforeEnter:function(e,t,o){r.a.loggedIn()?o():o({path:"/login",query:{redirect:e.fullPath}})}},{path:"/login",component:i.a},{path:"/logout",beforeEnter:function(e,t,o){r.a.logout(),o("/")}}]})}).call(t,"/")},cY3b:function(e,t,o){"use strict";var n=o("mtWM"),a=o.n(n),r={name:"RegisterUser",data:function(){return{username:"",password:"",teams:[],selectedTeam:{}}},methods:{getUsers:function(){a.a.get("http://localhost:8080/user").then(function(e){console.log(e)})},saveUser:function(e){e.preventDefault(),a.a.post("http://localhost:8080/user",{username:this.username,password:this.password,team:this.selectedTeam}).then(function(e){console.log(e)})},getTeams:function(){var e=this;a.a.get("http://localhost:8080/team").then(function(t){e.teams=t.data})}},beforeMount:function(){this.getTeams()}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v("Register")]),e._v(" "),o("form",{on:{submit:e.saveUser}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username..."},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password..."},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTeam,expression:"selectedTeam"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedTeam=t.target.multiple?o:o[0]}}},[o("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._v(" "),e._l(e.teams,function(t){return o("option",{domProps:{value:t}},[e._v("\n        "+e._s(t.teamName)+"\n      ")])})],2),e._v(" "),o("span",[e._v("Selected: "+e._s(e.selectedTeam.teamName))]),e._v(" "),o("input",{attrs:{type:"submit",name:"Submit",value:"Register"}})]),e._v(" "),o("div",[o("router-link",{attrs:{to:"/"}},[e._v("Go to log in")])],1),e._v(" "),o("div",[o("router-link",{attrs:{to:"feelometer"}},[e._v("Temporary link to feelometer")])],1)])},staticRenderFns:[]},c=o("VU/8")(r,s,!1,function(e){o("PtjJ")},"data-v-b2f246de",null);t.a=c.exports},eigV:function(e,t){},xJsL:function(e,t,o){"use strict";var n=o("yxUK"),a={data:function(){return{email:"joe@example.com",pass:"",error:!1}},methods:{login:function(){var e=this;n.a.login(this.email,this.pass,function(t){t?e.$router.replace(e.$route.query.redirect||"/"):e.error=!0})}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Login")]),e._v(" "),e.$route.query.redirect?o("p",[e._v("\n    You need to login first.\n  ")]):e._e(),e._v(" "),o("form",{on:{submit:function(t){t.preventDefault(),e.login(t)}}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{placeholder:"password",type:"password"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}})]),e._v(" (hint: password1)"),o("br"),e._v(" "),o("button",{attrs:{type:"submit"}},[e._v("login")]),e._v(" "),e.error?o("p",{staticClass:"error"},[e._v("Bad login information")]):e._e()])])},staticRenderFns:[]},s=o("VU/8")(a,r,!1,function(e){o("eigV")},null,null);t.a=s.exports},yxUK:function(e,t,o){"use strict";var n=o("mtWM"),a=o.n(n);t.a={login:function(e,t,o){var n=this;if(o=arguments[arguments.length-1],localStorage.token)return o&&o(!0),void this.onChange(!0);!function(e,t,o){setTimeout(function(){a.a.post("http://localhost:8080/login",{username:e,password:t}).then(function(e){200===e.status?(console.log(e),document.cookie="userId="+e.data.userId,o({authenticated:!0,token:Math.random().toString(36).substring(7)})):o({authenticated:!1})})},0)}(e,t,function(e){e.authenticated?(localStorage.token=e.token,o&&o(!0),n.onChange(!0)):(o&&o(!1),n.onChange(!1))})},getToken:function(){return localStorage.token},logout:function(e){delete localStorage.token,document.cookie="userId=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e&&e(),this.onChange(!1)},loggedIn:function(){return!!localStorage.token},onChange:function(){}}}},["NHnr"]);
//# sourceMappingURL=app.32dc8fbc510b8130645b.js.map